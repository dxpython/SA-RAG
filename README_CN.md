# SA-RAG: Semantic-Accelerated Retrieval Augmentation Framework

<div align="center">

![SA-RAG Logo](SA_RAG/images/bar.png)

**ä¸‹ä¸€ä»£è¯­ä¹‰æ£€ç´¢æ“ä½œç³»ç»Ÿï¼ˆSemantic Retrieval OSï¼‰**

[![.NET](https://img.shields.io/badge/.NET-8.0-512BD4?style=flat-square&logo=dotnet)](https://dotnet.microsoft.com/)
[![Python](https://img.shields.io/badge/Python-3.10+-3776AB?style=flat-square&logo=python)](https://www.python.org/)
[![Rust](https://img.shields.io/badge/Rust-1.70+-000000?style=flat-square&logo=rust)](https://www.rust-lang.org/)
[![License](https://img.shields.io/badge/License-MIT-green?style=flat-square)](LICENSE)

**é«˜æ€§èƒ½ Â· å¤šé˜¶æ®µæ£€ç´¢ Â· Graph-RAG Â· è®°å¿†å¢å¼º Â· è‡ªè¿›åŒ–**

</div>

---

## ğŸ“– ç›®å½•

- [é¡¹ç›®æ¦‚è¿°](#-é¡¹ç›®æ¦‚è¿°)
- [æ ¸å¿ƒç‰¹æ€§](#-æ ¸å¿ƒç‰¹æ€§)
- [ç³»ç»Ÿæ¶æ„](#-ç³»ç»Ÿæ¶æ„)
- [é¡¹ç›®ç»“æ„](#-é¡¹ç›®ç»“æ„)
- [å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹)
- [æ ¸å¿ƒç»„ä»¶](#-æ ¸å¿ƒç»„ä»¶)
- [SA-AgentOS](#-sa-agentos-æ™ºèƒ½ä½“ç³»ç»Ÿ)
- [API æ–‡æ¡£](#-api-æ–‡æ¡£)
- [æµ‹è¯•](#-æµ‹è¯•)
- [æ€§èƒ½å¯¹æ¯”](#-æ€§èƒ½å¯¹æ¯”)
- [è´¡çŒ®æŒ‡å—](#-è´¡çŒ®æŒ‡å—)
- [è®¸å¯è¯](#-è®¸å¯è¯)

---

## ğŸ¯ é¡¹ç›®æ¦‚è¿°

**SA-RAG** æ˜¯ä¸€ä¸ªä¼ä¸šçº§çš„è¯­ä¹‰æ£€ç´¢å¢å¼ºç”Ÿæˆï¼ˆRAGï¼‰æ¡†æ¶ï¼Œé‡‡ç”¨ **Rust + Python + C#** ä¸‰å±‚æ¶æ„è®¾è®¡ï¼Œæä¾›ï¼š

- ğŸš€ **é«˜æ€§èƒ½æ£€ç´¢å¼•æ“**ï¼šåŸºäº Rust çš„æ ¸å¿ƒæ£€ç´¢ç³»ç»Ÿ
- ğŸ§  **æ™ºèƒ½ç¼–æ’å±‚**ï¼šPython å®ç°çš„ LLM é›†æˆä¸æŸ¥è¯¢åˆ†æ
- ğŸ¤– **Agent ç³»ç»Ÿ**ï¼šåŸºäº SharpAIKit çš„ C# Agent æ¡†æ¶
- ğŸ“Š **å¤šé˜¶æ®µæ£€ç´¢**ï¼šå‘é‡ + BM25 + Graph + Memory æ··åˆæ£€ç´¢
- ğŸ”„ **è‡ªè¿›åŒ–èƒ½åŠ›**ï¼šå­¦ä¹ å¼æ’åºå™¨ã€ä¸€è‡´æ€§æ£€æŸ¥ã€è‡ªåŠ¨è°ƒè¯•

### è®¾è®¡ç†å¿µ

SA-RAG ä¸ä»…ä»…æ˜¯ä¸€ä¸ª RAG æ¡†æ¶ï¼Œè€Œæ˜¯ä¸€ä¸ª**è¯­ä¹‰æ£€ç´¢æ“ä½œç³»ç»Ÿ**ï¼Œå…·å¤‡ï¼š

- **è‡ªé€‚åº”**ï¼šæ ¹æ®æ•°æ®è‡ªåŠ¨ä¼˜åŒ–æ£€ç´¢ç­–ç•¥
- **å¯è§£é‡Š**ï¼šå®Œæ•´çš„æ‰§è¡Œå›¾è¿½è¸ªå’Œå¯è§†åŒ–
- **å¯æ‰©å±•**ï¼šæ’ä»¶åŒ–æ¶æ„ï¼Œæ”¯æŒè‡ªå®šä¹‰ç»„ä»¶
- **è‡ªä¸»ä¼˜åŒ–**ï¼šè‡ªåŠ¨å­¦ä¹ æœ€ä¼˜æ’åºæƒé‡
- **å¯å­¦ä¹ **ï¼šä»æ•°æ®ä¸­æŒç»­æ”¹è¿›æ£€ç´¢è´¨é‡

---

## âœ¨ æ ¸å¿ƒç‰¹æ€§

### ğŸ”¥ åŸºç¡€èƒ½åŠ›

| åŠŸèƒ½ | æè¿° | å®ç° |
|:-----|:-----|:-----|
| **Semantic Node Engine** | è¯­ä¹‰èŠ‚ç‚¹åˆ‡åˆ†å¼•æ“ | Rust |
| **Hybrid Retrieval** | å‘é‡ + BM25 æ··åˆæ£€ç´¢ | Rust |
| **Graph-RAG** | çŸ¥è¯†å›¾è°±å¢å¼ºæ£€ç´¢ | Rust |
| **Multi-Stage Ranking** | å¤šé˜¶æ®µæ’åºèåˆ | Rust |
| **Memory Store** | é•¿æœŸè®°å¿†ç®¡ç† | Rust |
| **Diff Index** | å¢é‡ç´¢å¼•æ›´æ–° | Rust |

### ğŸš€ ä¸‹ä¸€ä»£èƒ½åŠ›

| åŠŸèƒ½ | æè¿° | å®ç° |
|:-----|:-----|:-----|
| **Self-Evolving Ranker** | è‡ªè¿›åŒ–æ’åºå™¨ï¼ˆRL + å¯¹æ¯”å­¦ä¹ ï¼‰ | Rust + Python |
| **Execution Graph** | è¯­ä¹‰æ‰§è¡Œå›¾å¯è§†åŒ– | Rust + Python |
| **Cognitive Memory** | ä¸‰å±‚è®°å¿†ç³»ç»Ÿï¼ˆçŸ­æœŸ/é•¿æœŸ/è¯­ä¹‰å›ºåŒ–ï¼‰ | Rust + Python |
| **Multimodal Nodes** | å¤šæ¨¡æ€èŠ‚ç‚¹æ”¯æŒï¼ˆå›¾åƒ/è¡¨æ ¼/ä»£ç /å…¬å¼ï¼‰ | Rust |
| **Feature Store** | é«˜ç»´ç‰¹å¾å­˜å‚¨ï¼ˆç‰ˆæœ¬åŒ– + TTLï¼‰ | Rust |
| **Autonomous Debugger** | è‡ªä¸»æ£€ç´¢è°ƒè¯•å™¨ | Rust + Python |
| **Consistency Checker** | æ£€ç´¢ä¸€è‡´æ€§éªŒè¯å™¨ | Rust + Python |
| **Plugin System** | æ’ä»¶åŒ–æ‰©å±•æ¶æ„ | Rust + Python |

---

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

![SA-RAG System Overview](SA_RAG/images/Overreview.png)

**å®Œæ•´ç³»ç»Ÿæ¶æ„å›¾**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    SA-AgentOS (C# Agent Layer)                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚  â”‚   Agent    â”‚  â”‚  Planner   â”‚  â”‚   Memory   â”‚                â”‚
â”‚  â”‚  Pipeline  â”‚  â”‚            â”‚  â”‚    Tool    â”‚                â”‚
â”‚  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚        â”‚                â”‚                â”‚                        â”‚
â”‚        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚
â”‚                         â”‚                                         â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                              â”‚
â”‚              â”‚   SharpAIKit Tools  â”‚                              â”‚
â”‚              â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚                              â”‚
â”‚              â”‚  â”‚  Knowledge   â”‚  â”‚                              â”‚
â”‚              â”‚  â”‚  Retrieval   â”‚  â”‚                              â”‚
â”‚              â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚                              â”‚
â”‚              â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”  â”‚                              â”‚
â”‚              â”‚  â”‚   DeepSeek   â”‚  â”‚                              â”‚
â”‚              â”‚  â”‚  Reasoning   â”‚  â”‚                              â”‚
â”‚              â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚ HTTP/gRPC          â”‚
               â–¼                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Python Orchestration Layer                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚  Query   â”‚  â”‚ Structuredâ”‚  â”‚ Embeddingâ”‚  â”‚   LLM    â”‚       â”‚
â”‚  â”‚ Analyzer â”‚  â”‚  Query    â”‚  â”‚ Generatorâ”‚  â”‚ Service  â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜     â”‚
â”‚       â”‚              â”‚               â”‚               â”‚            â”‚
â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚                         â”‚                                         â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                              â”‚
â”‚              â”‚   RAG Pipeline      â”‚                              â”‚
â”‚              â”‚   (Orchestrator)    â”‚                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚ PyO3 / FFI          â”‚
               â–¼                     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Rust Core Engine (High Performance)                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ Semantic â”‚  â”‚  Vector  â”‚  â”‚   BM25   â”‚  â”‚  Graph   â”‚       â”‚
â”‚  â”‚  Node    â”‚  â”‚  Index   â”‚  â”‚  Index   â”‚  â”‚   RAG    â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜     â”‚
â”‚       â”‚              â”‚               â”‚               â”‚            â”‚
â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚                         â”‚                                         â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                              â”‚
â”‚              â”‚  Multi-Stage        â”‚                              â”‚
â”‚              â”‚  Ranking Engine     â”‚                              â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                              â”‚
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ Learning â”‚  â”‚Execution â”‚  â”‚  Feature â”‚  â”‚  Memory  â”‚       â”‚
â”‚  â”‚ Ranker   â”‚  â”‚  Graph   â”‚  â”‚  Store   â”‚  â”‚  System  â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
SA-RAG/
â”œâ”€â”€ SA_RAG/                          # æ ¸å¿ƒ RAG æ¡†æ¶
â”‚   â”œâ”€â”€ src/                         # Rust æ ¸å¿ƒå¼•æ“
â”‚   â”‚   â”œâ”€â”€ lib.rs                   # ä¸»å…¥å£ï¼ˆPyO3 ç»‘å®šï¼‰
â”‚   â”‚   â”œâ”€â”€ semantic_node.rs         # è¯­ä¹‰èŠ‚ç‚¹å¼•æ“
â”‚   â”‚   â”œâ”€â”€ parser.rs                # æ–‡æ¡£è§£æå™¨
â”‚   â”‚   â”œâ”€â”€ indexer/                 # ç´¢å¼•å™¨æ¨¡å—
â”‚   â”‚   â”‚   â”œâ”€â”€ vector.rs            # HNSW å‘é‡ç´¢å¼•
â”‚   â”‚   â”‚   â”œâ”€â”€ bm25.rs              # BM25 å…¨æ–‡ç´¢å¼•
â”‚   â”‚   â”‚   â”œâ”€â”€ hybrid.rs            # æ··åˆæ£€ç´¢å¼•æ“
â”‚   â”‚   â”‚   â””â”€â”€ multi_stage.rs       # å¤šé˜¶æ®µæ’åº
â”‚   â”‚   â”œâ”€â”€ graph/                   # å›¾æ£€ç´¢æ¨¡å—
â”‚   â”‚   â”‚   â”œâ”€â”€ graph.rs             # çŸ¥è¯†å›¾è°±
â”‚   â”‚   â”‚   â””â”€â”€ expansion.rs         # å›¾æ‰©å±•ç®—æ³•
â”‚   â”‚   â”œâ”€â”€ memory.rs                # è®°å¿†å­˜å‚¨
â”‚   â”‚   â”œâ”€â”€ diff.rs                  # å¢é‡ç´¢å¼•
â”‚   â”‚   â”œâ”€â”€ learning_ranker/         # è‡ªè¿›åŒ–æ’åºå™¨
â”‚   â”‚   â”œâ”€â”€ execution_graph/         # æ‰§è¡Œå›¾
â”‚   â”‚   â”œâ”€â”€ feature_store/           # ç‰¹å¾å­˜å‚¨
â”‚   â”‚   â”œâ”€â”€ consistency/             # ä¸€è‡´æ€§æ£€æŸ¥
â”‚   â”‚   â”œâ”€â”€ debugger/                # è‡ªåŠ¨è°ƒè¯•å™¨
â”‚   â”‚   â””â”€â”€ plugins/                 # æ’ä»¶ç³»ç»Ÿ
â”‚   â”œâ”€â”€ python/                      # Python ç¼–æ’å±‚
â”‚   â”‚   â”œâ”€â”€ sa_rag/
â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py          # RAG ä¸»ç±»
â”‚   â”‚   â”‚   â”œâ”€â”€ client.py            # å®¢æˆ·ç«¯ API
â”‚   â”‚   â”‚   â”œâ”€â”€ rag.py               # RAG ç®¡é“
â”‚   â”‚   â”‚   â”œâ”€â”€ orchestrator.py      # ç¼–æ’å™¨
â”‚   â”‚   â”‚   â”œâ”€â”€ query_analysis.py    # æŸ¥è¯¢åˆ†æ
â”‚   â”‚   â”‚   â”œâ”€â”€ llm.py               # LLM æœåŠ¡
â”‚   â”‚   â”‚   â”œâ”€â”€ embedding.py         # åµŒå…¥ç”Ÿæˆ
â”‚   â”‚   â”‚   â”œâ”€â”€ api_server.py        # FastAPI æœåŠ¡å™¨
â”‚   â”‚   â”‚   â””â”€â”€ [next-gen modules]   # ä¸‹ä¸€ä»£åŠŸèƒ½æ¨¡å—
â”‚   â”‚   â””â”€â”€ pyproject.toml
â”‚   â”œâ”€â”€ examples/                    # ç¤ºä¾‹ä»£ç 
â”‚   â”œâ”€â”€ tests/                       # æµ‹è¯•å¥—ä»¶
â”‚   â””â”€â”€ Cargo.toml
â”‚
â”œâ”€â”€ sa_agentos/                      # Agent ç³»ç»Ÿ
â”‚   â”œâ”€â”€ agent_csharp/                # C# Agent é¡¹ç›®
â”‚   â”‚   â””â”€â”€ SaAgentOS/
â”‚   â”‚       â”œâ”€â”€ Program.cs           # ä¸»ç¨‹åº
â”‚   â”‚       â”œâ”€â”€ Agents/              # Agent å®ç°
â”‚   â”‚       â”œâ”€â”€ Tools/               # å·¥å…·é›†
â”‚   â”‚       â”œâ”€â”€ Pipelines/           # ç®¡é“ç¼–æ’
â”‚   â”‚       â””â”€â”€ Config/              # é…ç½®æ–‡ä»¶
â”‚   â””â”€â”€ python_server/               # Python HTTP æœåŠ¡
â”‚       â”œâ”€â”€ server.py                # FastAPI æœåŠ¡å™¨
â”‚       â””â”€â”€ tests/                   # æµ‹è¯•
â”‚
â”œâ”€â”€ SharpAIKit/                      # C# AI æ¡†æ¶ï¼ˆä¾èµ–ï¼‰
â”‚   â”œâ”€â”€ src/SharpAIKit/              # æ ¸å¿ƒåº“
â”‚   â”‚   â”œâ”€â”€ Agent/                   # Agent æ¡†æ¶
â”‚   â”‚   â”œâ”€â”€ LLM/                     # LLM å®¢æˆ·ç«¯
â”‚   â”‚   â”œâ”€â”€ Memory/                  # è®°å¿†ç®¡ç†
â”‚   â”‚   â””â”€â”€ [å…¶ä»–æ¨¡å—]
â”‚   â””â”€â”€ samples/                     # ç¤ºä¾‹é¡¹ç›®
â”‚
â””â”€â”€ docs/                            # æ–‡æ¡£
    â”œâ”€â”€ architecture.md              # æ¶æ„æ–‡æ¡£
    â”œâ”€â”€ api_reference.md             # API å‚è€ƒ
    â””â”€â”€ NEXT_GEN_FEATURES.md         # ä¸‹ä¸€ä»£åŠŸèƒ½æ–‡æ¡£
```

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

- **Rust**: 1.70+ (ç”¨äºç¼–è¯‘æ ¸å¿ƒå¼•æ“)
- **Python**: 3.10+ (æ¨èä½¿ç”¨ `uv` åŒ…ç®¡ç†å™¨)
- **.NET**: 8.0+ (ç”¨äº Agent ç³»ç»Ÿ)
- **DeepSeek API Key**: ç”¨äº LLM æ¨ç†

### 1. å®‰è£… Rust æ ¸å¿ƒå¼•æ“

```bash
cd SA_RAG
cargo build --release
```

### 2. å®‰è£… Python åŒ…

```bash
cd SA_RAG/python

# ä½¿ç”¨ uvï¼ˆæ¨èï¼‰
uv sync

# æˆ–ä½¿ç”¨ pip
pip install -e .
```

### 3. è¿è¡Œæµ‹è¯•

```bash
cd SA_RAG/tests
uv run pytest test_framework_validation.py -v
```

### 4. å¯åŠ¨ Python API æœåŠ¡å™¨

```bash
cd SA_RAG/python
uv run python -m sa_rag.api_server
```

### 5. å¯åŠ¨ SA-AgentOS

```bash
# 1. å¯åŠ¨ Python RAG æœåŠ¡
cd sa_agentos/python_server
uv run python server.py

# 2. é…ç½® DeepSeek API Keyï¼ˆåœ¨ appsettings.json ä¸­ï¼‰
# 3. è¿è¡Œ C# Agent
cd sa_agentos/agent_csharp/SaAgentOS
dotnet run
```

---

## ğŸ”§ æ ¸å¿ƒç»„ä»¶

### SA-RAG Core

#### Rust æ ¸å¿ƒå¼•æ“

- **Semantic Node Engine**: æ™ºèƒ½æ–‡æ¡£åˆ‡åˆ†
- **Hybrid Index**: å‘é‡ + BM25 æ··åˆç´¢å¼•
- **Graph Engine**: çŸ¥è¯†å›¾è°±æ„å»ºä¸æŸ¥è¯¢
- **Multi-Stage Ranker**: å¤šé˜¶æ®µæ’åºèåˆ
- **Memory Store**: é•¿æœŸè®°å¿†ç®¡ç†
- **Diff Index**: å¢é‡ç´¢å¼•æ›´æ–°

#### Python ç¼–æ’å±‚

- **Query Analyzer**: LLM é©±åŠ¨çš„æŸ¥è¯¢åˆ†æ
- **Structured Query Builder**: ç»“æ„åŒ–æŸ¥è¯¢ç”Ÿæˆ
- **Orchestrator**: æ£€ç´¢ç­–ç•¥ç¼–æ’
- **Embedding Generator**: åµŒå…¥å‘é‡ç”Ÿæˆ
- **RAG Pipeline**: ç«¯åˆ°ç«¯ RAG æµç¨‹

### SA-AgentOS

#### C# Agent ç³»ç»Ÿ

- **SaRagAgent**: æ ¸å¿ƒ Agent ç±»ï¼ˆåŸºäº SharpAIKitï¼‰
- **KnowledgeRetrievalTool**: çŸ¥è¯†æ£€ç´¢å·¥å…·
- **DeepSeekReasoningTool**: DeepSeek æ¨ç†å·¥å…·
- **MemoryTool**: è®°å¿†ç®¡ç†å·¥å…·
- **SaAgentPipeline**: Agent æ‰§è¡Œç®¡é“

#### Python HTTP æœåŠ¡

- **FastAPI Server**: æä¾› REST API
- **RAG Query Endpoint**: `/rag/query`
- **Memory Management**: `/rag/memory`
- **Health Check**: `/health`

---

## ğŸ¤– SA-AgentOS: æ™ºèƒ½ä½“ç³»ç»Ÿ

SA-AgentOS æ˜¯åŸºäº SA-RAG Core å’Œ SharpAIKit æ„å»ºçš„æ™ºèƒ½ä½“ç³»ç»Ÿï¼Œæä¾›ï¼š

### æ ¸å¿ƒèƒ½åŠ›

- âœ… **è§„åˆ’ï¼ˆPlanningï¼‰**: æ™ºèƒ½å†³ç­–ä½•æ—¶æ£€ç´¢çŸ¥è¯†
- âœ… **ä¸–ç•Œæ¨¡å‹ï¼ˆMemoryï¼‰**: é•¿æœŸè®°å¿†ç®¡ç†
- âœ… **çŸ¥è¯†æ£€ç´¢**: è°ƒç”¨ SA-RAG è¿›è¡Œå¤šé˜¶æ®µæ£€ç´¢
- âœ… **æ‰§è¡Œå›¾**: å¯è§†åŒ– Agent æ¨ç†è¿‡ç¨‹
- âœ… **è‡ªæˆ‘çº é”™**: å†…ç½®è°ƒè¯•å’Œåæ€èƒ½åŠ›
- âœ… **å¤šè½®å¯¹è¯**: æ”¯æŒä¸Šä¸‹æ–‡è®°å¿†çš„å¯¹è¯

### ä½¿ç”¨ç¤ºä¾‹

```bash
# å¯åŠ¨ Agent
cd sa_agentos/agent_csharp/SaAgentOS
dotnet run

# äº¤äº’å¼å¯¹è¯
> ä½ å¥½ï¼Œæˆ‘æ˜¯å¼ ä¸‰
> æˆ‘çš„åå­—æ˜¯ä»€ä¹ˆï¼Ÿ  # Agent ä¼šè®°ä½ï¼šä½ çš„åå­—æ˜¯å¼ ä¸‰
> è¯·å¸®æˆ‘æŸ¥æ‰¾å…³äº Python çš„ä¿¡æ¯
> clear  # æ¸…é™¤å¯¹è¯å†å²
> exit   # é€€å‡º
```

è¯¦ç»†æ–‡æ¡£è¯·å‚è€ƒï¼š[sa_agentos/README.md](sa_agentos/README.md)

---

## ğŸ“Š æ€§èƒ½å¯¹æ¯”

| ç‰¹æ€§ | SA-RAG | LangChain | LlamaIndex | Haystack |
|:-----|:-------|:----------|:-----------|:---------|
| **å¤šé˜¶æ®µæ£€ç´¢** | âœ… | âš ï¸ | âœ… | âœ… |
| **Graph-RAG** | âœ… | âŒ | âš ï¸ | âŒ |
| **è‡ªè¿›åŒ–æ’åº** | âœ… | âŒ | âŒ | âŒ |
| **æ‰§è¡Œå›¾å¯è§†åŒ–** | âœ… | âŒ | âš ï¸ | âŒ |
| **å¢é‡ç´¢å¼•** | âœ… | âŒ | âš ï¸ | âš ï¸ |
| **Rust æ ¸å¿ƒ** | âœ… | âŒ | âŒ | âŒ |
| **C# Agent æ”¯æŒ** | âœ… | âŒ | âŒ | âŒ |
| **ä¸€è‡´æ€§æ£€æŸ¥** | âœ… | âŒ | âŒ | âŒ |
| **è‡ªåŠ¨è°ƒè¯•** | âœ… | âŒ | âŒ | âŒ |
| **æ’ä»¶ç³»ç»Ÿ** | âœ… | âš ï¸ | âš ï¸ | âš ï¸ |

---

## ğŸ§ª æµ‹è¯•

### è¿è¡Œæ‰€æœ‰æµ‹è¯•

```bash
cd SA_RAG/tests
uv run pytest test_framework_validation.py -v
```

### æµ‹è¯•è¦†ç›–

- âœ… æ¡†æ¶åˆå§‹åŒ–æµ‹è¯•
- âœ… æ–‡æ¡£ç´¢å¼•æµ‹è¯•
- âœ… æœç´¢åŠŸèƒ½æµ‹è¯•
- âœ… é—®ç­”åŠŸèƒ½æµ‹è¯•
- âœ… è®°å¿†ç®¡ç†æµ‹è¯•
- âœ… æ–‡æ¡£æ›´æ–°æµ‹è¯•
- âœ… ä¸‹ä¸€ä»£åŠŸèƒ½æµ‹è¯•
- âœ… é”™è¯¯å¤„ç†æµ‹è¯•
- âœ… æ€§èƒ½æµ‹è¯•
- âœ… é›†æˆæµ‹è¯•

---

## ğŸ“š API æ–‡æ¡£

### Python API

```python
from sa_rag import RAG

# åˆå§‹åŒ–
rag = RAG(llm_provider="deepseek", embedding_provider="deepseek")

# ç´¢å¼•æ–‡æ¡£
rag.index_documents(["æ–‡æ¡£1", "æ–‡æ¡£2"])

# æœç´¢
results = rag.search("æŸ¥è¯¢", top_k=5, use_graph=True, use_memory=True)

# é—®ç­”
answer = rag.ask("é—®é¢˜", top_k=5, use_graph=True, use_memory=True)

# æ·»åŠ è®°å¿†
rag.add_memory("é‡è¦ä¿¡æ¯", importance=0.8)
```

### REST API

```bash
# æŸ¥è¯¢
curl -X POST http://localhost:8000/rag/query \
  -H "Content-Type: application/json" \
  -d '{
    "query": "What is Python?",
    "use_graph": true,
    "use_memory": true,
    "top_k": 6
  }'

# æ·»åŠ è®°å¿†
curl -X POST "http://localhost:8000/rag/memory?text=User likes Python&importance=0.8"
```

è¯¦ç»† API æ–‡æ¡£è¯·å‚è€ƒï¼š[docs/api_reference.md](docs/api_reference.md)

---

## ğŸ” æ¶æ„æ–‡æ¡£

- [ç³»ç»Ÿæ¶æ„](docs/architecture.md)
- [æ£€ç´¢ç®¡é“](docs/retrieval_pipeline.md)
- [è¯­ä¹‰èŠ‚ç‚¹è®¾è®¡](docs/semantic_node_design.md)
- [ä¸‹ä¸€ä»£åŠŸèƒ½](docs/NEXT_GEN_FEATURES.md)

---

## ğŸ› ï¸ å¼€å‘æŒ‡å—

### æ„å»º Rust æ ¸å¿ƒ

```bash
cd SA_RAG
cargo build --release
```

### å¼€å‘ Python åŒ…

```bash
cd SA_RAG/python
uv sync --dev
uv run pytest
```

### å¼€å‘ C# Agent

```bash
cd sa_agentos/agent_csharp/SaAgentOS
dotnet build
dotnet test
```

---

## ğŸ“ˆ è·¯çº¿å›¾

### å·²å®Œæˆ âœ…

- [x] Rust æ ¸å¿ƒå¼•æ“
- [x] Python ç¼–æ’å±‚
- [x] å¤šé˜¶æ®µæ£€ç´¢
- [x] Graph-RAG
- [x] è®°å¿†ç®¡ç†
- [x] å¢é‡ç´¢å¼•
- [x] ä¸‹ä¸€ä»£åŠŸèƒ½ï¼ˆ8 å¤§æ¨¡å—ï¼‰
- [x] SA-AgentOS Agent ç³»ç»Ÿ
- [x] å¯¹è¯å†å²æ”¯æŒ

### è®¡åˆ’ä¸­ ğŸš§

- [ ] Web UI æ§åˆ¶å°
- [ ] åˆ†å¸ƒå¼éƒ¨ç½²æ”¯æŒ
- [ ] æ›´å¤š LLM æä¾›å•†æ”¯æŒ
- [ ] æ€§èƒ½ä¼˜åŒ–
- [ ] æ›´å¤šç¤ºä¾‹å’Œæ•™ç¨‹

---

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿è´¡çŒ®ï¼è¯·éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

---

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ã€‚è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶ã€‚

---

## ğŸ™ è‡´è°¢

- **SharpAIKit**: C# AI æ¡†æ¶æ”¯æŒ
- **PyO3**: Rust-Python ç»‘å®š
- **FastAPI**: Python Web æ¡†æ¶
- **DeepSeek**: LLM æœåŠ¡æä¾›å•†


---

<div align="center">

**SA-RAG - ä¸‹ä¸€ä»£è¯­ä¹‰æ£€ç´¢æ“ä½œç³»ç»Ÿ**

â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ª Starï¼

</div>

